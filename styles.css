@import "../styles.css";

:root{
  --bg: #f7f9fc;
  --card: #ffffff;
  --accent: #2b6ef6;
  --accent-700: #1b4bcc;
  --text: #0f172a;
  --muted: #475569;
  --radius: 12px;
  --gap: 18px;
  --base-size: 18px;
  --bg-gradient: linear-gradient(180deg, #1263b9 0%, #64a5eb 60%);
}

/* Layout */
html,body{height:100%;}
body{
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  /* use theme gradient variable for background */
  background: var(--bg-gradient);
  background-attachment: fixed;
  background-size: cover;
  transition: background 0.35s ease, color 0.35s ease;
  color: var(--text);
  font-size: var(--base-size);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  /* keep content clear of the fixed theme toggle */
  padding-top: 12px;
}

.container{
  max-width: 980px;
  margin: 48px auto;
  padding: 28px;
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: 0 10px 30px rgba(15,23,42,0.06);
}

h1{font-size:2.1rem;margin:0 0 10px 0}
h2{font-size:1.15rem;margin-top:18px}

/* Form */
form#kin-form p{color:var(--muted);margin-bottom:8px}
label{display:block;margin-bottom:12px;font-weight:600;color:var(--muted)}
label input{display:block;margin-top:6px}
input[type="number"], input[type="text"], textarea{
  width:100%;
  padding:12px 14px;
  border-radius:10px;
  border:1px solid #e6eef8;
  background: #fbfdff;
  font-size:1rem;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
}

.form-actions{display:flex;gap:12px;align-items:center;margin-top:14px}
.form-actions button{
  padding:10px 14px;
  border-radius:10px;
  border:0;
  cursor:pointer;
  font-weight:700;
  font-size:1rem;
  transition:transform .12s ease, box-shadow .12s ease, opacity .12s ease;
}
.form-actions button[type="submit"]{
  background: linear-gradient(180deg,var(--accent),var(--accent-700));
  color:#fff;
  box-shadow: 0 10px 30px rgba(37,99,235,0.12);
}
.form-actions button#reset{background:#eef2ff;color:var(--accent-700)}
.form-actions button#back{background:#fff;border:1px solid #e6eef8;color:var(--text)}
.form-actions button:hover{transform:translateY(-2px)}

/* Results */
#results{margin-top:18px}
#results pre{background:#fbfdff;border:1px solid #e9f0fb;padding:14px;border-radius:10px;font-size:0.98rem;white-space:pre-wrap}
#result-values{min-height:64px}
#explanation{min-height:120px}

/* Make clickable links and buttons stand out */
a{color:var(--accent)}

@media (max-width:700px){
  .container{margin:22px;padding:18px}
  :root{--base-size:16px}
}

/* Dark mode variables using data-theme attribute (match Uncertainty calculator style) */
[data-theme="dark"] {
  --bg: #0b1220;
  --card: #101522;
  --accent: #3b5998;
  --accent-700: #223e6a;
  --text: #e6eef8;
  --muted: #9aa4b2;
  --bg-gradient: linear-gradient(180deg,#001a33 0%, #003b66 70%);
}

/* Top bar & theme toggle */
.top-bar{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding:6px 10px}
.back-link-top{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(0,0,0,0.04);text-decoration:none;color:var(--text);font-weight:700;font-size:0.95rem}
/* Make the theme toggle fixed so it doesn't scroll with the page */
.theme-toggle{background:transparent;border:0;width:44px;height:44px;border-radius:999px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.05rem;position:fixed;top:40px;right:40px;z-index:9999}
.theme-toggle:focus{outline:none;box-shadow:0 6px 18px rgba(0,0,0,0.12)}
[data-theme="dark"] input[type="number"],
[data-theme="dark"] input[type="text"],
[data-theme="dark"] textarea{
  background: #26262e;
  border: 1px solid #3a3a46;
  color: var(--text);
}
[data-theme="dark"] input[type="number"]::placeholder,
[data-theme="dark"] input[type="text"]::placeholder,
[data-theme="dark"] textarea::placeholder{
  color: rgba(255,255,255,0.45);
}

/* Ensure the theme toggle isn't off-screen on small viewports */
@media (max-width:420px){
  .top-bar{padding-left:12px;padding-right:12px}
  .theme-toggle{right:10px;top:10px;transform:none}
  .back-link-top{padding:6px 8px}
}

/* When top-bar also uses .container, reduce its top margin so it sits closer to the page top */
.top-bar.container{margin:10px auto 8px}

/* Reduce space between the top-bar and the following .container (the main card) */
.top-bar + .container{margin-top:8px}

/* Dark-mode adjustments for buttons and top-link */
[data-theme="dark"] .back-link-top{
  background: rgba(255,255,255,0.04);
  color: var(--text);
}

[data-theme="dark"] .form-actions button#reset{
  background: rgba(255,255,255,0.04);
  color: var(--accent);
  border: 1px solid rgba(255,255,255,0.04);
}

[data-theme="dark"] .form-actions button#back{
  background: rgba(255,255,255,0.03);
  color: var(--text);
  border: 1px solid rgba(255,255,255,0.06);
}

/* Make submit gradient slightly stronger using accent variables */
.form-actions button[type="submit"]{
  background: linear-gradient(180deg,var(--accent),var(--accent-700));
}

/* Step box adjustments for dark */
[data-theme="dark"] #results pre{background:#222228;border:1px solid rgba(255,255,255,0.04);}

/* Step box styling */
.explanation{display:flex;flex-direction:column;gap:12px}
.step-box{background:rgba(255,255,255,0.03);border-radius:10px;padding:12px;border:1px solid rgba(0,0,0,0.04);box-shadow:0 6px 18px rgba(15,23,42,0.04)}
.step-box pre{margin:0;white-space:pre-wrap;font-size:0.96rem}
.step-box strong{display:block;margin-bottom:6px}
.muted{color:var(--muted);margin:0}

/* ensure long lines wrap inside boxes */
.step-box, .sim-readouts, #result-values, .explanation{word-break:break-word;overflow-wrap:break-word}
.step-box pre, #result-values{white-space:pre-wrap}
.sim-readouts{white-space:normal}

[data-theme="dark"] .step-box{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);box-shadow:0 8px 22px rgba(2,6,23,0.6)}

/* Simulation layout */
.sim-wrap{display:flex;gap:12px;align-items:center;margin-top:12px;flex-wrap:nowrap;justify-content:space-between}
/* canvas: allow it to grow to the available space up to the sidebar */
#sim-canvas{background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.85));border-radius:10px;border:1px solid #e6eef8;box-shadow:0 8px 24px rgba(15,23,42,0.06);flex:1 1 auto;min-width:300px;width:100%;height:160px;display:block;max-width:none}
.sim-sidebar{flex:0 0 auto;min-width:0;padding-left:12px;display:flex;flex-direction:column;align-items:flex-end}
.sim-controls{display:flex;gap:8px;margin-bottom:8px;justify-content:flex-end;width:100%}
.sim-controls button{padding:8px 12px;border-radius:8px;border:0;background:var(--accent);color:#fff;cursor:pointer}
.sim-controls button#sim-reset{background:#eef2ff;color:var(--accent-700)}
.sim-readouts{background:var(--card);border-radius:8px;padding:8px;border:1px solid #e9f0fb;font-weight:600;text-align:right;white-space:nowrap;overflow:hidden}
.sim-readouts div{margin-bottom:6px;white-space:nowrap}
.sim-readouts span{display:inline-block;min-width:110px;text-align:right;padding-left:8px}
.small{font-size:0.88rem}

[data-theme="dark"] #sim-canvas{background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04)}
[data-theme="dark"] .sim-readouts{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--text)}

.sim-note{margin-top:10px;color:var(--muted);width:100%}
/* inline root selector styling */
.sim-note{display:flex;flex-wrap:wrap;align-items:center;gap:8px}
.sim-root-inline{margin-left:auto;font-weight:600;color:var(--muted);font-size:0.95rem}
#sim-root-mode{padding:6px 8px;border-radius:8px;border:1px solid #e6eef8;background:var(--card);font-size:0.95rem}
[data-theme="dark"] #sim-root-mode{background:#0f1724;border:1px solid rgba(255,255,255,0.04);color:var(--text)}

/* Variant dropdown styling (Kinematics variant select) */
.variant-select-wrap{display:flex;align-items:center;gap:8px;margin-bottom:12px}
.variant-select-wrap label{font-weight:700;color:var(--muted);margin: 5px;}
#variant-select{
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  padding:8px 14px;
  font-size:1.05rem;
  border-radius:15px;
  border:1px solid #e6eef8;
  background: #fbfdff;
  min-width:260px;
  max-width:520px;
  box-shadow: 0 6px 18px rgba(15,23,42,0.04);
}

[data-theme="dark"] #variant-select{ background:#222228; border:1px solid rgba(255,255,255,0.04); color:var(--text); }

@media (max-width:700px){
  #variant-select{ min-width:160px; font-size:1rem }
}

